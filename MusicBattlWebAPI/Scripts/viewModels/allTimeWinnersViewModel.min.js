define(["collections/allTimeWinnersCollection"],function(n){return Backbone.Model.extend({url:"/api/AllTimerWinners/",initialize:function(){this.total=0;this.page=0;this.collection=n.toJSON();this.bind("change",this.onModelChange)},getPage:function(t){this.page=t;this.collection=n.toJSON();this.collection=n.toJSON().filter(function(n){return n.Image="/img/album/{0}".format(n.AlbumCover)});this.url="/api/AllTimerWinners/Get/0/{0}/{1}".format(this.page,this.collection.length);this.fetch()},map:function(n){var i=n,t=0,r=0;for(r=i.length,t;t<r;t+=1)i[t].ArtistId&&(this.collection[t]=i[t],this.collection[t].Image="/img/album/mini/{0}".format(i[t].AlbumCover))},update:function(n){this.total=n.Total;this.map(n.Collection)},onModelChange:function(n){console.log(n);this.total=n.get("Total");this.map(n.get("Collection"))}})});