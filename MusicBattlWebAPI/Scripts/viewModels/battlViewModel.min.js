define(["collections/battlCollection"],function(n){return Backbone.Model.extend({url:"/api/Battl/Current",initialize:function(){this.collection=n.toJSON();this.startTime=0;this.endTimer=0;this.battlId=0;this.battlDate="";this.bind("change",this.onModelChange)},update:function(n){onModelChange(n);this.trigger("change")},onModelChange:function(n){n.changed&&(this.battlDate=n.changed.BattlDate,this.battlId=n.changed.BattlId,this.endTime=n.changed.EndTime,this.startTime=n.changed.StartTime,this.collection[0].BattlId=this.battlId,this.collection[0].AlbumCover=n.changed.FirstAlbumCover,this.collection[0].AlbumName=n.changed.FirstAlbumName,this.collection[0].ArtistId=n.changed.FirstArtistId,this.collection[0].ArtistName=n.changed.FirstArtistName,this.collection[0].SongId=n.changed.FirstSongId,this.collection[0].SongUrl=n.changed.FirstSongUrl,this.collection[0].SongName=n.changed.FirstSongName,this.collection[0].Votes=n.changed.FirstSongVotes,this.collection[1].BattlId=this.battlId,this.collection[1].AlbumCover=n.changed.SecondAlbumCover,this.collection[1].AlbumName=n.changed.SecondAlbumName,this.collection[1].ArtistId=n.changed.SecondArtistId,this.collection[1].ArtistName=n.changed.SecondArtistName,this.collection[1].SongId=n.changed.SecondSongId,this.collection[1].SongUrl=n.changed.SecondSongUrl,this.collection[1].SongName=n.changed.SecondSongName,this.collection[1].Votes=n.changed.SecondSongVotes)}})});