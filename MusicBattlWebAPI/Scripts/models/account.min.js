define([],function(){return Backbone.Model.extend({initialize:function(){},create:function(n){this.url="/api/Account/Create";this.usuario={};this.usuario.UsuarioId=n.id;this.usuario.CustomId=n.customId;this.usuario.Name=n.name;this.usuario.Email=n.email;this.usuario.ProfileId=n.profileId;this.usuario.Birthdate=n.birthdate||"";this.usuario.Password="";this.usuario.Created="";this.usuario.Udated="";this.usuario.Gender=n.gender;this.usuario.Picture=n.picture;this.usuario.SocialType=n.type;this.save(this.usuario,{success:$.proxy(this.onModelChange,this),error:$.proxy(this.onModelError,this)})},remove:function(){},update:function(){},getUserDetails:function(){this.url="/api/Account/UserDetails/{0}".format(master.loginManager.loggedUser.id);this.fetch({success:$.proxy(this.onModelFetch,this),error:$.proxy(this.onModelError,this)})},updateUser:function(n){this.url="/api/Account/UserUpdate/";this.save(n,{success:$.proxy(this.onModelUpdated,this),error:$.proxy(this.onModelError,this)})},changePassword:function(n){this.url="/api/Account/ChangePassword/";this.save(n,{success:$.proxy(this.onModelPasswordUpdated,this),error:$.proxy(this.onModelError,this)})},createUser:function(n){this.url="/api/Account/Create/";this.save(n,{success:$.proxy(this.onModelChange,this),error:$.proxy(this.onModelError,this)})},onModelChange:function(n,t){var i=this.mapDataUser(t);eventHandler.trigger("onAccountCreate",i)},onModelPasswordUpdated:function(n,t){var i=this.mapDataUser(t);eventHandler.trigger("onPasswordChanged",i)},onModelError:function(n,t){var i="",r="";i=t.statusText;r=t.responseText;musicBattlUtils.showError(r,i)},onModelUpdated:function(n,t){var i=this.mapDataUser(t);eventHandler.trigger("onDisplayLoggedUser",i)},onModelFetch:function(n,t){eventHandler.trigger("onAccountReturn",t)},mapDataUser:function(n){var t={};return t.name=n.Name,t.id=n.UserId,t.profileId=n.ProfileId,t.picture=n.Picture,t.type=0,this.usuario&&this.usuario.SocialType&&(t.type=this.usuario.SocialType),t}})});
//# sourceMappingURL=account.min.js.map