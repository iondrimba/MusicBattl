define(["models/facebookLogin","models/googleplusLogin","models/twitterLogin","models/normalLogin"],function(n,t,r,u){return Backbone.Model.extend({initialize:function(){this.activeLogin={};this.visitor={name:"Visitor",id:0,profileId:0,customId:0,type:0,accessToken:null,picture:"profile-mini-user.png",gender:"M"};this.loggedUser=this.checkCookie()||this.visitor;this.FacebookLogin=n;this.GoogleplusLogin=t;this.TwitterLogin=r;this.NormalLogin=u;this.facebook=n;this.googleplus=t;this.twitter=r;this.normal=u;this.loggedUser.id?this.activetLogin(this.loggedUser.type):(this.facebook=new n,this.googleplus=new t,this.twitter=new r,this.normal=new u);eventHandler.trigger("onDisplayLoggedUser",this.loggedUser)},toUpper:function(n){return n.toUpperCase()},dispose:function(){this.loggedUser=this.visitor},checkCookie:function(){var n={};return n=musicBattlUtils.cookieExists("user"),n&&(n.picture=musicBattlUtils.cookieExists("picture").picture),n},getLogedUser:function(){return this.loggedUser},activetLogin:function(n){for(i in musicBattlUtils.enumLoginType)musicBattlUtils.enumLoginType.hasOwnProperty(i)&&(nameType="{0}Login".format(i.replace(/\b./g,$.proxy(this.toUpper,this))),n===musicBattlUtils.enumLoginType[i]?(this[i]=new this[nameType],this.activeLogin=this[i]):musicBattlUtils.enumLoginType[i]&&(this[i]=new this[nameType]))},login:function(n){for(var t in musicBattlUtils.enumLoginType)musicBattlUtils.enumLoginType.hasOwnProperty(t)&&musicBattlUtils.enumLoginType[t]===n&&this["{0}Login".format(t)]()},loginNormal:function(n){this.activeLogin=this.normal;this.normal.login(n)},logout:function(){musicBattlUtils.deleteCookie("user");musicBattlUtils.deleteCookie("picture");this.activeLogin.logout(this.loggedUser.id)},facebookLogin:function(){this.activeLogin=this.facebook;this.activeLogin.login()},googleplusLogin:function(){this.activeLogin=this.googleplus;this.activeLogin.login()},twitterLogin:function(){this.activeLogin=this.twitter;this.activeLogin.login()}})});